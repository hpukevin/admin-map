import{l as y,L as r}from"./leaflet-src.1665585927779.js";import{a as u}from"./index.1665585927779.js";import{a2 as v,l as m,a as g,o as L,aB as b,aC as x,b as E}from"./vue.1665585927779.js";var a=y.exports,f,_;function d(t){return"oninput"in t?"input":"change"}function o(){f=this._map.dragging.enabled(),_=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function h(t){this._refocusOnMap(t),f&&this._map.dragging.enable(),_&&this._map.tap.enable()}function l(t){return t==="undefined"?[]:Array.isArray(t)?t:[t]}function D(){}a.Control.SideBySide=a.Control.extend({options:{thumbSize:42,padding:0},initialize:function(t,e,i){this.setLeftLayers(t),this.setRightLayers(e),a.setOptions(this,i)},getPosition:function(){var t=this._range.value,e=(.5-t)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*t+e},setPosition:D,includes:a.Evented.prototype||a.Mixin.Events,addTo:function(t){this.remove(),this._map=t;var e=this._container=a.DomUtil.create("div","leaflet-sbs",t._controlContainer);this._divider=a.DomUtil.create("div","leaflet-sbs-divider",e);var i=this._range=a.DomUtil.create("input","leaflet-sbs-range",e);return i.type="range",i.min=0,i.max=1,i.step="any",i.value=.5,i.style.paddingLeft=i.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){return this._map?(this._leftLayer&&(this._leftLayer.getContainer().style.clip=""),this._rightLayer&&(this._rightLayer.getContainer().style.clip=""),this._removeEvents(),a.DomUtil.remove(this._container),this._map=null,this):this},setLeftLayers:function(t){return this._leftLayers=l(t),this._updateLayers(),this},setRightLayers:function(t){return this._rightLayers=l(t),this._updateLayers(),this},_updateClip:function(){var t=this._map,e=t.containerPointToLayerPoint([0,0]),i=t.containerPointToLayerPoint(t.getSize()),s=e.x+this.getPosition(),n=this.getPosition();this._divider.style.left=n+"px",this.fire("dividermove",{x:n});var p="rect("+[e.y,s,i.y,e.x].join("px,")+"px)",c="rect("+[e.y,i.x,i.y,s].join("px,")+"px)";this._leftLayer&&(this._leftLayer.getContainer().style.clip=p),this._rightLayer&&(this._rightLayer.getContainer().style.clip=c)},_updateLayers:function(){if(!this._map)return this;var t=this._leftLayer,e=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach(function(i){this._map.hasLayer(i)&&(this._leftLayer=i)},this),this._rightLayers.forEach(function(i){this._map.hasLayer(i)&&(this._rightLayer=i)},this),t!==this._leftLayer&&(t&&this.fire("leftlayerremove",{layer:t}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),e!==this._rightLayer&&(e&&this.fire("rightlayerremove",{layer:e}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var t=this._range,e=this._map;!e||!t||(e.on("move",this._updateClip,this),e.on("layeradd layerremove",this._updateLayers,this),a.DomEvent.on(t,d(t),this._updateClip,this),a.DomEvent.on(t,"touchstart",o,this),a.DomEvent.on(t,"touchend",h,this),a.DomEvent.on(t,"mousedown",o,this),a.DomEvent.on(t,"mouseup",h,this))},_removeEvents:function(){var t=this._range,e=this._map;t&&(a.DomEvent.off(t,d(t),this._updateClip,this),a.DomEvent.off(t,"touchstart",o,this),a.DomEvent.off(t,"touchend",h,this),a.DomEvent.off(t,"mousedown",o,this),a.DomEvent.off(t,"mouseup",h,this)),e&&(e.off("layeradd layerremove",this._updateLayers,this),e.off("move",this._updateClip,this))}});a.control.sideBySide=function(t,e,i){return new a.Control.SideBySide(t,e,i)};a.Control.SideBySide;const S=t=>(b("data-v-3b396840"),t=t(),x(),t),C=S(()=>E("div",{id:"leaf_map"},null,-1)),w=[C],z={__name:"sidebyside",setup(t){let e=v({});return m(()=>{e=r.map("leaf_map").setView([23.221,113.394],10);var i=r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),s=r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),n=r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),p=r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0});r.layerGroup([i,s]),r.layerGroup([n,p]),e.addLayer(i),e.addLayer(n),e.addLayer(s),r.control.sideBySide(i,n).addTo(e)}),(i,s)=>(L(),g("div",null,w))}};var k=u(z,[["__scopeId","data-v-3b396840"]]);export{k as default};
