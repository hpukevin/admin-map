import{L as i}from"./leaflet-src.1665583685255.js";import{a as y}from"./index.1665583685255.js";import{a2 as c,l as u,a as v,o as m,aB as g,aC as L,b}from"./vue.1665583685255.js";var l,f;function p(t){return"oninput"in t?"input":"change"}function n(){l=this._map.dragging.enabled(),f=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function o(t){this._refocusOnMap(t),l&&this._map.dragging.enable(),f&&this._map.tap.enable()}function d(t){return t==="undefined"?[]:Array.isArray(t)?t:[t]}function x(){}i.Control.SideBySide=i.Control.extend({options:{thumbSize:42,padding:0},initialize:function(t,e,a){this.setLeftLayers(t),this.setRightLayers(e),i.setOptions(this,a)},getPosition:function(){var t=this._range.value,e=(.5-t)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*t+e},setPosition:x,includes:i.Evented.prototype||i.Mixin.Events,addTo:function(t){this.remove(),this._map=t;var e=this._container=i.DomUtil.create("div","leaflet-sbs",t._controlContainer);this._divider=i.DomUtil.create("div","leaflet-sbs-divider",e);var a=this._range=i.DomUtil.create("input","leaflet-sbs-range",e);return a.type="range",a.min=0,a.max=1,a.step="any",a.value=.5,a.style.paddingLeft=a.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){return this._map?(this._leftLayer&&(this._leftLayer.getContainer().style.clip=""),this._rightLayer&&(this._rightLayer.getContainer().style.clip=""),this._removeEvents(),i.DomUtil.remove(this._container),this._map=null,this):this},setLeftLayers:function(t){return this._leftLayers=d(t),this._updateLayers(),this},setRightLayers:function(t){return this._rightLayers=d(t),this._updateLayers(),this},_updateClip:function(){var t=this._map,e=t.containerPointToLayerPoint([0,0]),a=t.containerPointToLayerPoint(t.getSize()),r=e.x+this.getPosition(),s=this.getPosition();this._divider.style.left=s+"px",this.fire("dividermove",{x:s});var h="rect("+[e.y,r,a.y,e.x].join("px,")+"px)",_="rect("+[e.y,a.x,a.y,r].join("px,")+"px)";this._leftLayer&&(this._leftLayer.getContainer().style.clip=h),this._rightLayer&&(this._rightLayer.getContainer().style.clip=_)},_updateLayers:function(){if(!this._map)return this;var t=this._leftLayer,e=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach(function(a){this._map.hasLayer(a)&&(this._leftLayer=a)},this),this._rightLayers.forEach(function(a){this._map.hasLayer(a)&&(this._rightLayer=a)},this),t!==this._leftLayer&&(t&&this.fire("leftlayerremove",{layer:t}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),e!==this._rightLayer&&(e&&this.fire("rightlayerremove",{layer:e}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var t=this._range,e=this._map;!e||!t||(e.on("move",this._updateClip,this),e.on("layeradd layerremove",this._updateLayers,this),i.DomEvent.on(t,p(t),this._updateClip,this),i.DomEvent.on(t,"touchstart",n,this),i.DomEvent.on(t,"touchend",o,this),i.DomEvent.on(t,"mousedown",n,this),i.DomEvent.on(t,"mouseup",o,this))},_removeEvents:function(){var t=this._range,e=this._map;t&&(i.DomEvent.off(t,p(t),this._updateClip,this),i.DomEvent.off(t,"touchstart",n,this),i.DomEvent.off(t,"touchend",o,this),i.DomEvent.off(t,"mousedown",n,this),i.DomEvent.off(t,"mouseup",o,this)),e&&(e.off("layeradd layerremove",this._updateLayers,this),e.off("move",this._updateClip,this))}});i.control.sideBySide=function(t,e,a){return new i.Control.SideBySide(t,e,a)};i.Control.SideBySide;const E=t=>(g("data-v-3b396840"),t=t(),L(),t),D=E(()=>b("div",{id:"leaf_map"},null,-1)),S=[D],C={__name:"sidebyside",setup(t){let e=c({});return u(()=>{e=i.map("leaf_map").setView([23.221,113.394],10);var a=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),r=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),s=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),h=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0});i.layerGroup([a,r]),i.layerGroup([s,h]),e.addLayer(a),e.addLayer(s),e.addLayer(r),i.control.sideBySide(a,s).addTo(e)}),(a,r)=>(m(),v("div",null,S))}};var T=y(C,[["__scopeId","data-v-3b396840"]]);export{T as default};
