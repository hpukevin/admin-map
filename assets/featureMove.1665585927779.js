import{L as o}from"./leaflet-src.1665585927779.js";import{a as m}from"./index.1665585927779.js";import{a2 as h,l as v,a as y,b as f,Z as _,S as p,a6 as d,o as k,aB as T,aC as g,X as S}from"./vue.1665585927779.js";L.AnimatedMarker=L.Marker.extend({options:{distance:200,interval:1e3,autoStart:!0,onEnd:function(){},clickable:!1},initialize:function(t,e){this.setLine(t),L.Marker.prototype.initialize.call(this,t[0],e)},_chunk:function(t){var e,i=t.length,r=[];for(e=1;e<i;e++){var a=t[e-1],s=t[e],n=a.distanceTo(s),l=this.options.distance/n,c=l*(s.lat-a.lat),u=l*(s.lng-a.lng);if(n>this.options.distance)for(;n>this.options.distance;)a=new L.LatLng(a.lat+c,a.lng+u),n=a.distanceTo(s),r.push(a);else r.push(a)}return r.push(t[i-1]),r},onAdd:function(t){L.Marker.prototype.onAdd.call(this,t),this.options.autoStart&&this.start()},animate:function(){var t=this,e=this._latlngs.length,i=this.options.interval;this._i<e&&this._i>0&&(i=this._latlngs[this._i-1].distanceTo(this._latlngs[this._i])/this.options.distance*this.options.interval),L.DomUtil.TRANSITION&&(this._icon&&(this._icon.style[L.DomUtil.TRANSITION]="all "+i+"ms linear"),this._shadow&&(this._shadow.style[L.DomUtil.TRANSITION]="all "+i+"ms linear")),this.setLatLng(this._latlngs[this._i]),this._i++,this._tid=setTimeout(function(){t._i===e?t.options.onEnd.apply(t,Array.prototype.slice.call(arguments)):t.animate()},i)},start:function(){this.animate()},stop:function(){this._tid&&clearTimeout(this._tid)},setLine:function(t){L.DomUtil.TRANSITION?this._latlngs=t:(this._latlngs=this._chunk(t),this.options.distance=10,this.options.interval=30),this._i=0}});L.animatedMarker=function(t,e){return new L.AnimatedMarker(t,e)};const I=t=>(T("data-v-ad6a7fda"),t=t(),g(),t),b=S("\u5F00\u59CB\u79FB\u52A8"),M=I(()=>f("div",{id:"leaf_map"},null,-1)),N={__name:"featureMove",setup(t){let e=h({}),i=h([]);v(()=>{e=o.map("leaf_map").setView([30.5217,114.3948],17),o.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}).addTo(e),o.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}).addTo(e);var a=o.icon({iconUrl:"./map/bike.png",iconSize:[25,39]}),s=[o.polyline([[30.52295,114.39583],[30.52295,114.39447],[30.5226,114.39447]]),o.polyline([[30.52134,114.39333],[30.52134,114.39478],[30.52096,114.39478]]),o.polyline([[30.52243,114.39332],[30.52194,114.39332],[30.52194,114.39444]])];s.forEach(n=>{var l=o.animatedMarker(n.getLatLngs(),{icon:a,autoStart:!1});e.addLayer(l),i.push(l)})});function r(){for(var a=0;a<i.length;a++)i[a].start()}return(a,s)=>{const n=d("el-button"),l=d("el-form-item"),c=d("el-form");return k(),y("div",null,[f("div",null,[_(c,{class:"form-inline"},{default:p(()=>[_(l,null,{default:p(()=>[_(n,{type:"primary",onClick:r},{default:p(()=>[b]),_:1})]),_:1})]),_:1})]),M])}}};var D=m(N,[["__scopeId","data-v-ad6a7fda"]]);export{D as default};
