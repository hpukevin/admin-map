import{K as ae,s as Z,m as oe,u as N,o as S,a as R,b as F,Y as U,a6 as M,a9 as Ze,F as _e,R as W,S as k,Z as E,X as ce,aD as ut,aH as Mt,a2 as De,l as ze,aI as Ft,au as jn,W as te,a1 as Be,aB as on,aC as an,i as We,n as nt,M as ot,O as Tt,k as ct,J as Ln,aa as Xn,H as rn,j as Lt,T as sn,U as ln,_ as Yn,ak as Wn}from"./vue.1665583685255.js";import{a as be,u as ke,l as un,o as Zt,L as Ge,c as It,b as Gn,E as In,m as Un,S as Se,e as Kn,p as Qn,n as Ht,N as Zn}from"./index.1665583685255.js";import Jn from"./parent.1665583685255.js";var gn="/admin-map/assets/logo-mini.1665583685255.svg";const eo=["src"],to=["src"],no=ae({name:"layoutLogo"}),oo=Object.assign(no,{setup(n){const e=ke(),{themeConfig:t}=Z(e),o=oe(()=>{let{isCollapse:i,layout:r}=t.value;return!i||r==="classic"||document.body.clientWidth<1e3}),a=()=>{if(t.value.layout==="transverse")return!1;t.value.isCollapse=!t.value.isCollapse};return(i,r)=>N(o)?(S(),R("div",{key:0,class:"layout-logo",onClick:a},[F("img",{src:N(gn),class:"layout-logo-medium-img"},null,8,eo),F("span",null,U(N(t).globalTitle),1)])):(S(),R("div",{key:1,class:"layout-logo-size",onClick:a},[F("img",{src:N(gn),class:"layout-logo-size-img"},null,8,to)]))}});var ao=be(oo,[["__scopeId","data-v-2cca6fa1"]]);const io=["href"],ro=ae({name:"navMenuSubItem"}),so=Object.assign(ro,{props:{chil:{type:Array,default:()=>[]}},setup(n){const e=n,t=oe(()=>e.chil);return(o,a)=>{const i=M("SvgIcon"),r=M("sub-item",!0),s=M("el-sub-menu"),c=M("el-menu-item");return S(!0),R(_e,null,Ze(N(t),u=>(S(),R(_e,null,[u.children&&u.children.length>0?(S(),W(s,{index:u.path,key:u.path},{title:k(()=>[E(i,{name:u.meta.icon},null,8,["name"]),F("span",null,U(u.meta.title),1)]),default:k(()=>[E(r,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(S(),W(c,{index:u.path,key:u.path},{default:k(()=>[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?(S(),R(_e,{key:0},[E(i,{name:u.meta.icon},null,8,["name"]),F("span",null,U(u.meta.title),1)],64)):(S(),R("a",{key:1,href:u.meta.isLink,target:"_blank",rel:"opener",class:"w100"},[E(i,{name:u.meta.icon},null,8,["name"]),ce(" "+U(u.meta.title),1)],8,io))]),_:2},1032,["index"]))],64))),256)}}});const lo={key:0,class:"layout-navbars-breadcrumb"},uo={key:0,class:"layout-navbars-breadcrumb-span"},co={key:1},fo={key:2},ho=["onClick"],mo=ae({name:"layoutBreadcrumb"}),po=Object.assign(mo,{setup(n){const e=un(),t=ke(),{themeConfig:o}=Z(t),{routesList:a}=Z(e),i=ut(),r=Mt(),s=De({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),c=oe(()=>{C(i.path);const{layout:l,isBreadcrumb:h}=o.value;return l==="classic"||l==="transverse"?!1:!!h}),u=l=>{const{redirect:h,path:m}=l;h?r.push(h):r.push(m)},_=()=>{o.value.isCollapse=!o.value.isCollapse,p()},p=()=>{Ge.remove("themeConfig"),Ge.set("themeConfig",o.value)},v=l=>{l.forEach(h=>{s.routeSplit.forEach((m,T,y)=>{s.routeSplitFirst===h.path&&(s.routeSplitFirst+=`/${y[s.routeSplitIndex]}`,s.breadcrumbList.push(h),s.routeSplitIndex++,h.children&&v(h.children))})})},C=l=>{if(!o.value.isBreadcrumb)return!1;s.breadcrumbList=[a.value[0]],s.routeSplit=l.split("/"),s.routeSplit.shift(),s.routeSplitFirst=`/${s.routeSplit[0]}`,s.routeSplitIndex=1,v(a.value),(i.name==="home"||i.name==="notFound"&&s.breadcrumbList.length>1)&&s.breadcrumbList.shift(),s.breadcrumbList.length>0&&(s.breadcrumbList[s.breadcrumbList.length-1].meta.tagsViewName=Zt.setTagsViewNameI18n(i))};return ze(()=>{C(i.path)}),Ft(l=>{C(l.path)}),(l,h)=>{const m=M("SvgIcon"),T=M("el-breadcrumb-item"),y=M("el-breadcrumb");return N(c)?(S(),R("div",lo,[E(m,{class:"layout-navbars-breadcrumb-icon",name:N(o).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:_},null,8,["name"]),E(y,{class:"layout-navbars-breadcrumb-hide"},{default:k(()=>[E(jn,{name:"breadcrumb",mode:"out-in"},{default:k(()=>[(S(!0),R(_e,null,Ze(s.breadcrumbList,(L,$)=>(S(),W(T,{key:L.meta.tagsViewName?L.meta.tagsViewName:L.meta.title},{default:k(()=>[$===s.breadcrumbList.length-1?(S(),R("span",uo,[N(o).isBreadcrumbIcon?(S(),W(m,{key:0,name:L.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):te("",!0),L.meta.tagsViewName?(S(),R("div",fo,U(L.meta.tagsViewName),1)):(S(),R("div",co,U(L.meta.title),1))])):(S(),R("a",{key:1,onClick:Be(q=>u(L),["prevent"])},[N(o).isBreadcrumbIcon?(S(),W(m,{key:0,name:L.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):te("",!0),ce(U(L.meta.title),1)],8,ho))]),_:2},1024))),128))]),_:1})]),_:1})])):te("",!0)}}});var go=be(po,[["__scopeId","data-v-7b0827a0"]]);const _n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Te=(()=>{if(typeof document=="undefined")return!1;const n=_n[0],e={};for(const t of _n)if((t==null?void 0:t[1])in document){for(const[a,i]of t.entries())e[n[a]]=i;return e}return!1})(),bn={change:Te.fullscreenchange,error:Te.fullscreenerror};let le={request(n=document.documentElement,e){return new Promise((t,o)=>{const a=()=>{le.off("change",a),t()};le.on("change",a);const i=n[Te.requestFullscreen](e);i instanceof Promise&&i.then(a).catch(o)})},exit(){return new Promise((n,e)=>{if(!le.isFullscreen){n();return}const t=()=>{le.off("change",t),n()};le.on("change",t);const o=document[Te.exitFullscreen]();o instanceof Promise&&o.then(t).catch(e)})},toggle(n,e){return le.isFullscreen?le.exit():le.request(n,e)},onchange(n){le.on("change",n)},onerror(n){le.on("error",n)},on(n,e){const t=bn[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=bn[n];t&&document.removeEventListener(t,e,!1)},raw:Te};Object.defineProperties(le,{isFullscreen:{get:()=>Boolean(document[Te.fullscreenElement])},element:{enumerable:!0,get:()=>{var n;return(n=document[Te.fullscreenElement])!=null?n:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Te.fullscreenEnabled])}});Te||(le={isEnabled:!1});var _t=le;const _o=n=>(on("data-v-23af17ee"),n=n(),an(),n),bo={class:"layout-navbars-breadcrumb-user-news"},vo={class:"head-box"},wo=_o(()=>F("div",{class:"head-box-title"},"\u901A\u77E5",-1)),yo={class:"content-box"},So={class:"content-box-msg"},Co={class:"content-box-time"},Eo=ae({name:"layoutBreadcrumbUserNews"}),xo=Object.assign(Eo,{setup(n){const e=De({newsList:[{label:"\u5173\u4E8E\u56FD\u5E86\u653E\u5047\u7684\u901A\u77E5",value:"\u6839\u636E\u56FD\u52A1\u9662\u529E\u516C\u5385\u300A\u5173\u4E8E2022\u5E74\u90E8\u5206\u8282\u5047\u65E5\u5B89\u6392\u7684\u901A\u77E5\u300B\uFF08\u56FD\u529E\u53D1\u660E\u7535\u30142021\u301511\u53F7\uFF09\u7CBE\u795E\uFF0C2022\u5E74\u56FD\u5E86\u8282\u653E\u5047\u8C03\u4F11\u65F6\u95F4\u4E3A10\u67081\u65E5\u201410\u67087\u65E5\uFF0C\u51717\u5929\u300210\u67088\u65E5(\u661F\u671F\u516D)\uFF0C10\u67089\u65E5(\u661F\u671F\u65E5)\u4E0A\u73ED\uFF0C\u5176\u4E2D10\u67088\u65E5\u661F\u671F\u516D\u886510\u67086\u65E5\u661F\u671F\u56DB\u7684\u73ED\u300110\u67089\u65E5\u661F\u671F\u65E5\u886510\u67087\u65E5\u661F\u671F\u4E94\u7684\u73ED\uFF01",time:"2022-9-28"},{label:"\u5173\u4E8E\u53EC\u5F00\u4F1A\u8BAE\u4EA4\u6D41\u7684\u901A\u77E5",value:"\u4E3A\u4F7F\u6211\u516C\u53F8\u5404\u90E8\u95E8\u5DE5\u4F5C\u987A\u5229\u7684\u5F00\u5C55\uFF0C\u5E76\u4E14\u4FDD\u8BC1\u5404\u90E8\u95E8\u4E4B\u95F4\u80FD\u591F\u884D\u63A5\u987A\u7545\uFF0C\u6709\u6548\u5730\u63D0\u9AD8\u5DE5\u4F5C\u6548\u7387\u3002\u7ECF\u516C\u53F8\u9886\u5BFC\u7814\u7A76\u51B3\u5B9A\u5C06\u5B9A\u671F\u53EC\u5F00\u516C\u53F8\u5458\u5DE5\u4F8B\u4F1A\uFF01",time:"2022-10-08"}]}),t=()=>{e.newsList=[]},o=()=>{window.open("#")};return(a,i)=>{const r=M("el-empty");return S(),R("div",bo,[F("div",vo,[wo,e.newsList.length>0?(S(),R("div",{key:0,class:"head-box-btn",onClick:t},"\u5168\u90E8\u5DF2\u8BFB")):te("",!0)]),F("div",yo,[e.newsList.length>0?(S(!0),R(_e,{key:0},Ze(e.newsList,(s,c)=>(S(),R("div",{class:"content-box-item",key:c},[F("div",null,U(s.label),1),F("div",So,U(s.value),1),F("div",Co,U(s.time),1)]))),128)):(S(),W(r,{key:1,description:"\u6682\u65E0\u901A\u77E5"}))]),e.newsList.length>0?(S(),R("div",{key:0,class:"foot-box",onClick:o},"\u524D\u5F80\u901A\u77E5\u4E2D\u5FC3")):te("",!0)])}}});var Do=be(xo,[["__scopeId","data-v-23af17ee"]]);const To={class:"layout-search-dialog"},Lo=ae({name:"layoutBreadcrumbSearch"}),Io=Object.assign(Lo,{setup(n,{expose:e}){const t=It(),{tagsViewRoutes:o}=Z(t),a=We(),i=Mt(),r=De({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),s=()=>{r.menuQuery="",r.isShowSearch=!0,p(),nt(()=>{setTimeout(()=>{a.value.focus()})})},c=()=>{r.isShowSearch=!1},u=(l,h)=>{let m=l?r.tagsViewList.filter(_(l)):r.tagsViewList;h(m)},_=l=>h=>h.path.toLowerCase().indexOf(l.toLowerCase())>-1||h.meta.title.toLowerCase().indexOf(l.toLowerCase())>-1||h.meta.title.indexOf(l.toLowerCase())>-1,p=()=>{if(r.tagsViewList.length>0)return!1;o.value.map(l=>{l.meta.isHide||r.tagsViewList.push({...l})})},v=l=>{let{path:h,redirect:m}=l;l.meta.isLink&&!l.meta.isIframe?window.open(l.meta.isLink):m?i.push(m):i.push(h),c()},C=()=>{c()};return e({openSearch:s}),(l,h)=>{const m=M("ele-Search"),T=M("el-icon"),y=M("SvgIcon"),L=M("el-autocomplete"),$=M("el-dialog");return S(),R("div",To,[E($,{modelValue:r.isShowSearch,"onUpdate:modelValue":h[1]||(h[1]=q=>r.isShowSearch=q),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:k(()=>[E(L,{modelValue:r.menuQuery,"onUpdate:modelValue":h[0]||(h[0]=q=>r.menuQuery=q),"fetch-suggestions":u,placeholder:"\u83DC\u5355\u641C\u7D22\uFF1A\u652F\u6301\u4E2D\u6587\u3001\u8DEF\u7531\u8DEF\u5F84",ref_key:"layoutMenuAutocompleteRef",ref:a,onSelect:v,onBlur:C},{prefix:k(()=>[E(T,{class:"el-input__icon"},{default:k(()=>[E(m)]),_:1})]),default:k(({item:q})=>[F("div",null,[E(y,{name:q.meta.icon,class:"mr5"},null,8,["name"]),ce(" "+U(q.meta.title),1)])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}});var ko=be(Io,[["__scopeId","data-v-af14e982"]]);const kn=n=>(on("data-v-651b8a9e"),n=n(),an(),n),Oo=kn(()=>F("div",{class:"layout-navbars-breadcrumb-user-icon"},[F("i",{class:"iconfont icon-ziti",title:"\u7EC4\u4EF6\u5927\u5C0F"})],-1)),Vo=ce("\u5927\u578B"),Ro=ce("\u9ED8\u8BA4"),Ao=ce("\u5C0F\u578B"),Mo=kn(()=>F("i",{class:"icon-skin iconfont",title:"\u5E03\u5C40\u914D\u7F6E"},null,-1)),Fo=[Mo],Po={class:"layout-navbars-breadcrumb-user-icon"},No=["title"],$o={class:"layout-navbars-breadcrumb-user-link"},Bo=["src"],zo=ce("\u9996\u9875"),Ho=ce("404"),qo=ce("401"),jo=ce("\u9000\u51FA\u767B\u5F55"),Xo=ae({name:"layoutBreadcrumbUser"}),Yo=Object.assign(Xo,{setup(n){const{proxy:e}=ct(),t=Mt(),o=Gn(),a=ke(),{userInfos:i}=Z(o),{themeConfig:r}=Z(a),s=We(),c=De({isScreenfull:!1,isShowUserNewsPopover:!1,disabledSize:""}),u=oe(()=>{let m="";const{layout:T,isClassicSplitMenu:y}=r.value;return["defaults","columns"].includes(T)||T==="classic"&&!y?m="1":m="",m}),_=()=>{if(!_t.isEnabled)return In.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;_t.toggle(),_t.on("change",()=>{_t.isFullscreen?c.isScreenfull=!0:c.isScreenfull=!1})},p=()=>{e.mittBus.emit("openSetingsDrawer")},v=m=>{m==="logOut"?Un({closeOnClickModal:!1,closeOnPressEscape:!1,title:"\u63D0\u793A",message:"\u6B64\u64CD\u4F5C\u5C06\u9000\u51FA\u767B\u5F55, \u662F\u5426\u7EE7\u7EED?",showCancelButton:!0,confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",buttonSize:"default",beforeClose:(T,y,L)=>{T==="confirm"?(y.confirmButtonLoading=!0,y.confirmButtonText="\u9000\u51FA\u4E2D",setTimeout(()=>{L(),setTimeout(()=>{y.confirmButtonLoading=!1},300)},700)):L()}}).then(async()=>{Se.clear(),window.location.reload()}).catch(()=>{}):m==="wareHouse"?window.open("https://gitee.com"):t.push(m)},C=()=>{s.value.openSearch()},l=m=>{Ge.remove("themeConfig"),r.value.globalComponentSize=m,Ge.set("themeConfig",r.value),h(),window.location.reload()},h=()=>{switch(Ge.get("themeConfig").globalComponentSize){case"large":c.disabledSize="large";break;case"default":c.disabledSize="default";break;case"small":c.disabledSize="small";break}};return ze(()=>{Ge.get("themeConfig")&&h()}),(m,T)=>{const y=M("el-dropdown-item"),L=M("el-dropdown-menu"),$=M("el-dropdown"),q=M("ele-Search"),V=M("el-icon"),de=M("ele-Bell"),he=M("el-badge"),Y=M("el-popover"),me=M("ele-ArrowDown");return S(),R("div",{class:"layout-navbars-breadcrumb-user pr15",style:Tt({flex:N(u)})},[E($,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:l},{dropdown:k(()=>[E(L,null,{default:k(()=>[E(y,{command:"medium",disabled:c.disabledSize==="large"},{default:k(()=>[Vo]),_:1},8,["disabled"]),E(y,{command:"small",disabled:c.disabledSize==="default"},{default:k(()=>[Ro]),_:1},8,["disabled"]),E(y,{command:"mini",disabled:c.disabledSize==="small"},{default:k(()=>[Ao]),_:1},8,["disabled"])]),_:1})]),default:k(()=>[Oo]),_:1}),F("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:C},[E(V,{title:"\u83DC\u5355\u641C\u7D22"},{default:k(()=>[E(q)]),_:1})]),F("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:p},Fo),F("div",Po,[E(Y,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:k(()=>[E(he,{"is-dot":!0},{default:k(()=>[E(V,{title:"\u6D88\u606F"},{default:k(()=>[E(de)]),_:1})]),_:1})]),default:k(()=>[E(Do)]),_:1})]),F("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:_},[F("i",{class:ot(["iconfont",c.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:c.isScreenfull?"\u5173\u5168\u5C4F":"\u5F00\u5168\u5C4F"},null,10,No)]),E($,{"show-timeout":70,"hide-timeout":50,onCommand:v},{dropdown:k(()=>[E(L,null,{default:k(()=>[E(y,{command:"/home"},{default:k(()=>[zo]),_:1}),E(y,{command:"/404"},{default:k(()=>[Ho]),_:1}),E(y,{command:"/401"},{default:k(()=>[qo]),_:1}),E(y,{divided:"",command:"logOut"},{default:k(()=>[jo]),_:1})]),_:1})]),default:k(()=>[F("span",$o,[F("img",{src:N(i).photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Bo),ce(" "+U(N(i).userName===""?"common":N(i).userName)+" ",1),E(V,{class:"el-icon--right"},{default:k(()=>[E(me)]),_:1})])]),_:1}),E(ko,{ref_key:"searchRef",ref:s},null,512)],4)}}});var Wo=be(Yo,[["__scopeId","data-v-651b8a9e"]]);const Go={class:"el-menu-horizontal-warp"},Uo=ae({name:"navMenuHorizontal"}),Ko=Object.assign(Uo,{props:{menuList:{type:Array,default:()=>[]}},setup(n){const e=n,{proxy:t}=ct(),o=un(),a=ke(),{routesList:i}=Z(o),{themeConfig:r}=Z(a),s=ut(),c=De({defaultActive:null}),u=oe(()=>e.menuList),_=h=>{const m=h.wheelDelta||-h.deltaY*40;t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft=t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft+m/4},p=()=>{nt(()=>{let h=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!h)return!1;t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft=h.offsetLeft})},v=h=>h.filter(m=>!m.meta.isHide).map(m=>(m=Object.assign({},m),m.children&&(m.children=v(m.children)),m)),C=h=>{const m=h.split("/");let T={};return v(i.value).map((y,L)=>{y.path===`/${m[1]}`&&(y.k=L,T.item=[{...y}],T.children=[{...y}],y.children&&(T.children=y.children))}),T},l=h=>{const{path:m,meta:T}=h;if(r.value.layout==="classic")c.defaultActive=`/${m.split("/")[1]}`;else{const y=T.isDynamic?T.isDynamicPath.split("/"):m.split("/");y.length>=4&&T.isHide?c.defaultActive=y.splice(0,3).join("/"):c.defaultActive=m}};return Ln(()=>{l(s)}),ze(()=>{p()}),Ft(h=>{l(h);let{layout:m,isClassicSplitMenu:T}=r.value;m==="classic"&&T&&t.mittBus.emit("setSendClassicChildren",C(h.path))}),(h,m)=>{const T=M("SvgIcon"),y=M("el-sub-menu"),L=M("el-menu-item"),$=M("el-menu"),q=M("el-scrollbar");return S(),R("div",Go,[E(q,{onWheel:Be(_,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:k(()=>[E($,{router:"","default-active":c.defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:k(()=>[(S(!0),R(_e,null,Ze(N(u),V=>(S(),R(_e,null,[V.children&&V.children.length>0?(S(),W(y,{index:V.path,key:V.path},{title:k(()=>[E(T,{name:V.meta.icon},null,8,["name"]),F("span",null,U(V.meta.title),1)]),default:k(()=>[E(so,{chil:V.children},null,8,["chil"])]),_:2},1032,["index"])):(S(),W(L,{index:V.path,key:V.path},Xn({_:2},[!V.meta.isLink||V.meta.isLink&&V.meta.isIframe?{name:"title",fn:k(()=>[E(T,{name:V.meta.icon},null,8,["name"]),ce(" "+U(V.meta.title),1)])}:{name:"title",fn:k(()=>[F("a",{href:V.meta.isLink,target:"_blank",rel:"opener",class:"w100"},[E(T,{name:V.meta.icon},null,8,["name"]),ce(" "+U(V.meta.title),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}}});var Qo=be(Ko,[["__scopeId","data-v-4cac66ac"]]);const Zo={class:"layout-navbars-breadcrumb-index"},Jo=ae({name:"layoutBreadcrumbIndex"}),ea=Object.assign(Jo,{setup(n){const{proxy:e}=ct(),t=un(),o=ke(),{themeConfig:a}=Z(o),{routesList:i}=Z(t),r=ut(),s=De({menuList:[]}),c=oe(()=>{let{isShowLogo:l,layout:h}=a.value;return l&&h==="classic"||l&&h==="transverse"}),u=oe(()=>{let{layout:l,isClassicSplitMenu:h}=a.value;return l==="transverse"||h&&l==="classic"}),_=()=>{let{layout:l,isClassicSplitMenu:h}=a.value;if(l==="classic"&&h){s.menuList=p(v(i.value));const m=C(r.path);e.mittBus.emit("setSendClassicChildren",m)}else s.menuList=v(i.value)},p=l=>(l.map(h=>{h.children&&delete h.children}),l),v=l=>l.filter(h=>!h.meta.isHide).map(h=>(h=Object.assign({},h),h.children&&(h.children=v(h.children)),h)),C=l=>{const h=l.split("/");let m={};return v(i.value).map((T,y)=>{T.path===`/${h[1]}`&&(T.k=y,m.item=[{...T}],m.children=[{...T}],T.children&&(m.children=T.children))}),m};return ze(()=>{_(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{_()})}),rn(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes",()=>{})}),(l,h)=>(S(),R("div",Zo,[N(c)?(S(),W(ao,{key:0})):te("",!0),E(go),N(u)?(S(),W(Qo,{key:1,menuList:s.menuList},null,8,["menuList"])):te("",!0),E(Wo)]))}});var ta=be(ea,[["__scopeId","data-v-c8c3c9b8"]]);/**!
* Sortable 1.15.0
* @author	RubaXa   <trash@rubaxa.org>
* @author	owenm    <owen23355@gmail.com>
* @license MIT
*/function vn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,o)}return t}function xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(t),!0).forEach(function(o){na(n,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(t,o))})}return n}function St(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(e){return typeof e}:St=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(n)}function na(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ie(){return Ie=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ie.apply(this,arguments)}function oa(n,e){if(n==null)return{};var t={},o=Object.keys(n),a,i;for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function aa(n,e){if(n==null)return{};var t=oa(n,e),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(t[o]=n[o]))}return t}var ia="1.15.0";function Le(n){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(n)}var Oe=Le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),dt=Le(/Edge/i),wn=Le(/firefox/i),at=Le(/safari/i)&&!Le(/chrome/i)&&!Le(/android/i),On=Le(/iP(ad|od|hone)/i),Vn=Le(/chrome/i)&&Le(/android/i),Rn={capture:!1,passive:!1};function P(n,e,t){n.addEventListener(e,t,!Oe&&Rn)}function A(n,e,t){n.removeEventListener(e,t,!Oe&&Rn)}function kt(n,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function ra(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Ce(n,e,t,o){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&kt(n,e):kt(n,e))||o&&n===t)return n;if(n===t)break}while(n=ra(n))}return null}var yn=/\s+/g;function re(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var o=(" "+n.className+" ").replace(yn," ").replace(" "+e+" "," ");n.className=(o+(t?" "+e:"")).replace(yn," ")}}function x(n,e,t){var o=n&&n.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Ke(n,e){var t="";if(typeof n=="string")t=n;else do{var o=x(n,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function An(n,e,t){if(n){var o=n.getElementsByTagName(e),a=0,i=o.length;if(t)for(;a<i;a++)t(o[a],a);return o}return[]}function Ee(){var n=document.scrollingElement;return n||document.documentElement}function X(n,e,t,o,a){if(!(!n.getBoundingClientRect&&n!==window)){var i,r,s,c,u,_,p;if(n!==window&&n.parentNode&&n!==Ee()?(i=n.getBoundingClientRect(),r=i.top,s=i.left,c=i.bottom,u=i.right,_=i.height,p=i.width):(r=0,s=0,c=window.innerHeight,u=window.innerWidth,_=window.innerHeight,p=window.innerWidth),(e||t)&&n!==window&&(a=a||n.parentNode,!Oe))do if(a&&a.getBoundingClientRect&&(x(a,"transform")!=="none"||t&&x(a,"position")!=="static")){var v=a.getBoundingClientRect();r-=v.top+parseInt(x(a,"border-top-width")),s-=v.left+parseInt(x(a,"border-left-width")),c=r+i.height,u=s+i.width;break}while(a=a.parentNode);if(o&&n!==window){var C=Ke(a||n),l=C&&C.a,h=C&&C.d;C&&(r/=h,s/=l,p/=l,_/=h,c=r+_,u=s+p)}return{top:r,left:s,bottom:c,right:u,width:p,height:_}}}function Sn(n,e,t){for(var o=Me(n,!0),a=X(n)[e];o;){var i=X(o)[t],r=void 0;if(t==="top"||t==="left"?r=a>=i:r=a<=i,!r)return o;if(o===Ee())break;o=Me(o,!1)}return!1}function Qe(n,e,t,o){for(var a=0,i=0,r=n.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==D.ghost&&(o||r[i]!==D.dragged)&&Ce(r[i],t.draggable,n,!1)){if(a===e)return r[i];a++}i++}return null}function cn(n,e){for(var t=n.lastElementChild;t&&(t===D.ghost||x(t,"display")==="none"||e&&!kt(t,e));)t=t.previousElementSibling;return t||null}function fe(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==D.clone&&(!e||kt(n,e))&&t++;return t}function Cn(n){var e=0,t=0,o=Ee();if(n)do{var a=Ke(n),i=a.a,r=a.d;e+=n.scrollLeft*i,t+=n.scrollTop*r}while(n!==o&&(n=n.parentNode));return[e,t]}function sa(n,e){for(var t in n)if(!!n.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===n[t][o])return Number(t)}return-1}function Me(n,e){if(!n||!n.getBoundingClientRect)return Ee();var t=n,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=x(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ee();if(o||e)return t;o=!0}}while(t=t.parentNode);return Ee()}function la(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function qt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var it;function Mn(n,e){return function(){if(!it){var t=arguments,o=this;t.length===1?n.call(o,t[0]):n.apply(o,t),it=setTimeout(function(){it=void 0},e)}}}function ua(){clearTimeout(it),it=void 0}function Fn(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Pn(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var ue="Sortable"+new Date().getTime();function ca(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(x(a,"display")==="none"||a===D.ghost)){n.push({target:a,rect:X(a)});var i=xe({},n[n.length-1].rect);if(a.thisAnimationDuration){var r=Ke(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(sa(n,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var i=!1,r=0;n.forEach(function(s){var c=0,u=s.target,_=u.fromRect,p=X(u),v=u.prevFromRect,C=u.prevToRect,l=s.rect,h=Ke(u,!0);h&&(p.top-=h.f,p.left-=h.e),u.toRect=p,u.thisAnimationDuration&&qt(v,p)&&!qt(_,p)&&(l.top-p.top)/(l.left-p.left)===(_.top-p.top)/(_.left-p.left)&&(c=fa(l,v,C,a.options)),qt(p,_)||(u.prevFromRect=_,u.prevToRect=p,c||(c=a.options.animation),a.animate(u,l,p,c)),c&&(i=!0,r=Math.max(r,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),i?e=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),n=[]},animate:function(o,a,i,r){if(r){x(o,"transition",""),x(o,"transform","");var s=Ke(this.el),c=s&&s.a,u=s&&s.d,_=(a.left-i.left)/(c||1),p=(a.top-i.top)/(u||1);o.animatingX=!!_,o.animatingY=!!p,x(o,"transform","translate3d("+_+"px,"+p+"px,0)"),this.forRepaintDummy=da(o),x(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),x(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){x(o,"transition",""),x(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function da(n){return n.offsetWidth}function fa(n,e,t,o){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var je=[],jt={initializeByDefault:!0},ft={mount:function(e){for(var t in jt)jt.hasOwnProperty(t)&&!(t in e)&&(e[t]=jt[t]);je.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),je.push(e)},pluginEvent:function(e,t,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var i=e+"Global";je.forEach(function(r){!t[r.pluginName]||(t[r.pluginName][i]&&t[r.pluginName][i](xe({sortable:t},o)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](xe({sortable:t},o)))})},initializePlugins:function(e,t,o,a){je.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var u=new s(e,t,e.options);u.sortable=e,u.options=e.options,e[c]=u,Ie(o,u.defaults)}});for(var i in e.options)if(!!e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r!="undefined"&&(e.options[i]=r)}},getEventProperties:function(e,t){var o={};return je.forEach(function(a){typeof a.eventProperties=="function"&&Ie(o,a.eventProperties.call(t[a.pluginName],e))}),o},modifyOption:function(e,t,o){var a;return je.forEach(function(i){!e[i.pluginName]||i.optionListeners&&typeof i.optionListeners[t]=="function"&&(a=i.optionListeners[t].call(e[i.pluginName],o))}),a}};function ha(n){var e=n.sortable,t=n.rootEl,o=n.name,a=n.targetEl,i=n.cloneEl,r=n.toEl,s=n.fromEl,c=n.oldIndex,u=n.newIndex,_=n.oldDraggableIndex,p=n.newDraggableIndex,v=n.originalEvent,C=n.putSortable,l=n.extraEventProperties;if(e=e||t&&t[ue],!!e){var h,m=e.options,T="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Oe&&!dt?h=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(o,!0,!0)),h.to=r||t,h.from=s||t,h.item=a||t,h.clone=i,h.oldIndex=c,h.newIndex=u,h.oldDraggableIndex=_,h.newDraggableIndex=p,h.originalEvent=v,h.pullMode=C?C.lastPutMode:void 0;var y=xe(xe({},l),ft.getEventProperties(o,e));for(var L in y)h[L]=y[L];t&&t.dispatchEvent(h),m[T]&&m[T].call(e,h)}}var ma=["evt"],ne=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,i=aa(o,ma);ft.pluginEvent.bind(D)(e,t,xe({dragEl:g,parentEl:H,ghostEl:I,rootEl:B,nextEl:$e,lastDownEl:Ct,cloneEl:z,cloneHidden:Ae,dragStarted:Je,putSortable:G,activeSortable:D.active,originalEvent:a,oldIndex:Ue,oldDraggableIndex:rt,newIndex:se,newDraggableIndex:Re,hideGhostForTarget:zn,unhideGhostForTarget:Hn,cloneNowHidden:function(){Ae=!0},cloneNowShown:function(){Ae=!1},dispatchSortableEvent:function(s){ee({sortable:t,name:s,originalEvent:a})}},i))};function ee(n){ha(xe({putSortable:G,cloneEl:z,targetEl:g,rootEl:B,oldIndex:Ue,oldDraggableIndex:rt,newIndex:se,newDraggableIndex:Re},n))}var g,H,I,B,$e,Ct,z,Ae,Ue,se,rt,Re,bt,G,Ye=!1,Ot=!1,Vt=[],Pe,ge,Xt,Yt,En,xn,Je,Xe,st,lt=!1,vt=!1,Et,Q,Wt=[],Jt=!1,Rt=[],Pt=typeof document!="undefined",wt=On,Dn=dt||Oe?"cssFloat":"float",pa=Pt&&!Vn&&!On&&"draggable"in document.createElement("div"),Nn=function(){if(!!Pt){if(Oe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),$n=function(e,t){var o=x(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Qe(e,0,t),r=Qe(e,1,t),s=i&&x(i),c=r&&x(r),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+X(i).width,_=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+X(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var p=s.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===p)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=a&&o[Dn]==="none"||r&&o[Dn]==="none"&&u+_>a)?"vertical":"horizontal"},ga=function(e,t,o){var a=o?e.left:e.top,i=o?e.right:e.bottom,r=o?e.width:e.height,s=o?t.left:t.top,c=o?t.right:t.bottom,u=o?t.width:t.height;return a===s||i===c||a+r/2===s+u/2},_a=function(e,t){var o;return Vt.some(function(a){var i=a[ue].options.emptyInsertThreshold;if(!(!i||cn(a))){var r=X(a),s=e>=r.left-i&&e<=r.right+i,c=t>=r.top-i&&t<=r.bottom+i;if(s&&c)return o=a}}),o},Bn=function(e){function t(i,r){return function(s,c,u,_){var p=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(i==null&&(r||p))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return t(i(s,c,u,_),r)(s,c,u,_);var v=(r?s:c).options.group.name;return i===!0||typeof i=="string"&&i===v||i.join&&i.indexOf(v)>-1}}var o={},a=e.group;(!a||St(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,e.group=o},zn=function(){!Nn&&I&&x(I,"display","none")},Hn=function(){!Nn&&I&&x(I,"display","")};Pt&&!Vn&&document.addEventListener("click",function(n){if(Ot)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Ot=!1,!1},!0);var Ne=function(e){if(g){e=e.touches?e.touches[0]:e;var t=_a(e.clientX,e.clientY);if(t){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[ue]._onDragOver(o)}}},ba=function(e){g&&g.parentNode[ue]._isOutsideThisEl(e.target)};function D(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Ie({},e),n[ue]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $n(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&!at,emptyInsertThreshold:5};ft.initializePlugins(this,n,t);for(var o in t)!(o in e)&&(e[o]=t[o]);Bn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:pa,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?P(n,"pointerdown",this._onTapStart):(P(n,"mousedown",this._onTapStart),P(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(P(n,"dragover",this),P(n,"dragenter",this)),Vt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ie(this,ca())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Xe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,g):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,o=this.el,a=this.options,i=a.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,_=a.filter;if(Da(o),!g&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&at&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Ce(c,a.draggable,o,!1),!(c&&c.animated)&&Ct!==c)){if(Ue=fe(c),rt=fe(c,a.draggable),typeof _=="function"){if(_.call(this,e,c,this)){ee({sortable:t,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),ne("filter",t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(_&&(_=_.split(",").some(function(p){if(p=Ce(u,p.trim(),o,!1),p)return ee({sortable:t,rootEl:p,name:"filter",targetEl:c,fromEl:o,toEl:o}),ne("filter",t,{evt:e}),!0}),_)){i&&e.cancelable&&e.preventDefault();return}a.handle&&!Ce(u,a.handle,o,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,t,o){var a=this,i=a.el,r=a.options,s=i.ownerDocument,c;if(o&&!g&&o.parentNode===i){var u=X(o);if(B=i,g=o,H=g.parentNode,$e=g.nextSibling,Ct=o,bt=r.group,D.dragged=g,Pe={target:g,clientX:(t||e).clientX,clientY:(t||e).clientY},En=Pe.clientX-u.left,xn=Pe.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,g.style["will-change"]="all",c=function(){if(ne("delayEnded",a,{evt:e}),D.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!wn&&a.nativeDraggable&&(g.draggable=!0),a._triggerDragStart(e,t),ee({sortable:a,name:"choose",originalEvent:e}),re(g,r.chosenClass,!0)},r.ignore.split(",").forEach(function(_){An(g,_.trim(),Gt)}),P(s,"dragover",Ne),P(s,"mousemove",Ne),P(s,"touchmove",Ne),P(s,"mouseup",a._onDrop),P(s,"touchend",a._onDrop),P(s,"touchcancel",a._onDrop),wn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),ne("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(dt||Oe))){if(D.eventCanceled){this._onDrop();return}P(s,"mouseup",a._disableDelayedDrag),P(s,"touchend",a._disableDelayedDrag),P(s,"touchcancel",a._disableDelayedDrag),P(s,"mousemove",a._delayedDragTouchMoveHandler),P(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&P(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&Gt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._disableDelayedDrag),A(e,"touchend",this._disableDelayedDrag),A(e,"touchcancel",this._disableDelayedDrag),A(e,"mousemove",this._delayedDragTouchMoveHandler),A(e,"touchmove",this._delayedDragTouchMoveHandler),A(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,"pointermove",this._onTouchMove):t?P(document,"touchmove",this._onTouchMove):P(document,"mousemove",this._onTouchMove):(P(g,"dragend",this),P(B,"dragstart",this._onDragStart));try{document.selection?xt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ye=!1,B&&g){ne("dragStarted",this,{evt:t}),this.nativeDraggable&&P(document,"dragover",ba);var o=this.options;!e&&re(g,o.dragClass,!1),re(g,o.ghostClass,!0),D.active=this,e&&this._appendGhost(),ee({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ge){this._lastX=ge.clientX,this._lastY=ge.clientY,zn();for(var e=document.elementFromPoint(ge.clientX,ge.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ge.clientX,ge.clientY),e!==t);)t=e;if(g.parentNode[ue]._isOutsideThisEl(e),t)do{if(t[ue]){var o=void 0;if(o=t[ue]._onDragOver({clientX:ge.clientX,clientY:ge.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Hn()}},_onTouchMove:function(e){if(Pe){var t=this.options,o=t.fallbackTolerance,a=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=I&&Ke(I,!0),s=I&&r&&r.a,c=I&&r&&r.d,u=wt&&Q&&Cn(Q),_=(i.clientX-Pe.clientX+a.x)/(s||1)+(u?u[0]-Wt[0]:0)/(s||1),p=(i.clientY-Pe.clientY+a.y)/(c||1)+(u?u[1]-Wt[1]:0)/(c||1);if(!D.active&&!Ye){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(I){r?(r.e+=_-(Xt||0),r.f+=p-(Yt||0)):r={a:1,b:0,c:0,d:1,e:_,f:p};var v="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");x(I,"webkitTransform",v),x(I,"mozTransform",v),x(I,"msTransform",v),x(I,"transform",v),Xt=_,Yt=p,ge=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!I){var e=this.options.fallbackOnBody?document.body:B,t=X(g,!0,wt,!0,e),o=this.options;if(wt){for(Q=e;x(Q,"position")==="static"&&x(Q,"transform")==="none"&&Q!==document;)Q=Q.parentNode;Q!==document.body&&Q!==document.documentElement?(Q===document&&(Q=Ee()),t.top+=Q.scrollTop,t.left+=Q.scrollLeft):Q=Ee(),Wt=Cn(Q)}I=g.cloneNode(!0),re(I,o.ghostClass,!1),re(I,o.fallbackClass,!0),re(I,o.dragClass,!0),x(I,"transition",""),x(I,"transform",""),x(I,"box-sizing","border-box"),x(I,"margin",0),x(I,"top",t.top),x(I,"left",t.left),x(I,"width",t.width),x(I,"height",t.height),x(I,"opacity","0.8"),x(I,"position",wt?"absolute":"fixed"),x(I,"zIndex","100000"),x(I,"pointerEvents","none"),D.ghost=I,e.appendChild(I),x(I,"transform-origin",En/parseInt(I.style.width)*100+"% "+xn/parseInt(I.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,a=e.dataTransfer,i=o.options;if(ne("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}ne("setupClone",this),D.eventCanceled||(z=Pn(g),z.removeAttribute("id"),z.draggable=!1,z.style["will-change"]="",this._hideClone(),re(z,this.options.chosenClass,!1),D.clone=z),o.cloneId=xt(function(){ne("clone",o),!D.eventCanceled&&(o.options.removeCloneOnHide||B.insertBefore(z,g),o._hideClone(),ee({sortable:o,name:"clone"}))}),!t&&re(g,i.dragClass,!0),t?(Ot=!0,o._loopId=setInterval(o._emulateDragOver,50)):(A(document,"mouseup",o._onDrop),A(document,"touchend",o._onDrop),A(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,g)),P(document,"drop",o),x(g,"transform","translateZ(0)")),Ye=!0,o._dragStartId=xt(o._dragStarted.bind(o,t,e)),P(document,"selectstart",o),Je=!0,at&&x(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,a,i,r,s=this.options,c=s.group,u=D.active,_=bt===c,p=s.sort,v=G||u,C,l=this,h=!1;if(Jt)return;function m(J,Nt){ne(J,l,xe({evt:e,isOwner:_,axis:C?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:p,fromSortable:v,target:o,completed:y,onMove:function(ht,mt){return yt(B,t,g,a,ht,X(ht),e,mt)},changed:L},Nt))}function T(){m("dragOverAnimationCapture"),l.captureAnimationState(),l!==v&&v.captureAnimationState()}function y(J){return m("dragOverCompleted",{insertion:J}),J&&(_?u._hideClone():u._showClone(l),l!==v&&(re(g,G?G.options.ghostClass:u.options.ghostClass,!1),re(g,s.ghostClass,!0)),G!==l&&l!==D.active?G=l:l===D.active&&G&&(G=null),v===l&&(l._ignoreWhileAnimating=o),l.animateAll(function(){m("dragOverAnimationComplete"),l._ignoreWhileAnimating=null}),l!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(o===g&&!g.animated||o===t&&!o.animated)&&(Xe=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(g.parentNode[ue]._isOutsideThisEl(e.target),!J&&Ne(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function L(){se=fe(g),Re=fe(g,s.draggable),ee({sortable:l,name:"change",toEl:t,newIndex:se,newDraggableIndex:Re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=Ce(o,s.draggable,t,!0),m("dragOver"),D.eventCanceled)return h;if(g.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||l._ignoreWhileAnimating===o)return y(!1);if(Ot=!1,u&&!s.disabled&&(_?p||(r=H!==B):G===this||(this.lastPutMode=bt.checkPull(this,u,g,e))&&c.checkPut(this,u,g,e))){if(C=this._getDirection(e,o)==="vertical",a=X(g),m("dragOverValid"),D.eventCanceled)return h;if(r)return H=B,T(),this._hideClone(),m("revert"),D.eventCanceled||($e?B.insertBefore(g,$e):B.appendChild(g)),y(!0);var $=cn(t,s.draggable);if(!$||Sa(e,C,this)&&!$.animated){if($===g)return y(!1);if($&&t===e.target&&(o=$),o&&(i=X(o)),yt(B,t,g,a,o,i,e,!!o)!==!1)return T(),$&&$.nextSibling?t.insertBefore(g,$.nextSibling):t.appendChild(g),H=t,L(),y(!0)}else if($&&ya(e,C,this)){var q=Qe(t,0,s,!0);if(q===g)return y(!1);if(o=q,i=X(o),yt(B,t,g,a,o,i,e,!1)!==!1)return T(),t.insertBefore(g,q),H=t,L(),y(!0)}else if(o.parentNode===t){i=X(o);var V=0,de,he=g.parentNode!==t,Y=!ga(g.animated&&g.toRect||a,o.animated&&o.toRect||i,C),me=C?"top":"left",ve=Sn(o,"top","top")||Sn(g,"top","top"),Fe=ve?ve.scrollTop:void 0;Xe!==o&&(de=i[me],lt=!1,vt=!Y&&s.invertSwap||he),V=Ca(e,o,i,C,Y?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,vt,Xe===o);var pe;if(V!==0){var we=fe(g);do we-=V,pe=H.children[we];while(pe&&(x(pe,"display")==="none"||pe===I))}if(V===0||pe===o)return y(!1);Xe=o,st=V;var Ve=o.nextElementSibling,ye=!1;ye=V===1;var He=yt(B,t,g,a,o,i,e,ye);if(He!==!1)return(He===1||He===-1)&&(ye=He===1),Jt=!0,setTimeout(wa,30),T(),ye&&!Ve?t.appendChild(g):o.parentNode.insertBefore(g,ye?Ve:o),ve&&Fn(ve,0,Fe-ve.scrollTop),H=g.parentNode,de!==void 0&&!vt&&(Et=Math.abs(de-X(o)[me])),L(),y(!0)}if(t.contains(g))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",Ne),A(document,"mousemove",Ne),A(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;A(e,"mouseup",this._onDrop),A(e,"touchend",this._onDrop),A(e,"pointerup",this._onDrop),A(e,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(se=fe(g),Re=fe(g,o.draggable),ne("drop",this,{evt:e}),H=g&&g.parentNode,se=fe(g),Re=fe(g,o.draggable),D.eventCanceled){this._nulling();return}Ye=!1,vt=!1,lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),en(this.cloneId),en(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),at&&x(document.body,"user-select",""),x(g,"transform",""),e&&(Je&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),I&&I.parentNode&&I.parentNode.removeChild(I),(B===H||G&&G.lastPutMode!=="clone")&&z&&z.parentNode&&z.parentNode.removeChild(z),g&&(this.nativeDraggable&&A(g,"dragend",this),Gt(g),g.style["will-change"]="",Je&&!Ye&&re(g,G?G.options.ghostClass:this.options.ghostClass,!1),re(g,this.options.chosenClass,!1),ee({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:e}),B!==H?(se>=0&&(ee({rootEl:H,name:"add",toEl:H,fromEl:B,originalEvent:e}),ee({sortable:this,name:"remove",toEl:H,originalEvent:e}),ee({rootEl:H,name:"sort",toEl:H,fromEl:B,originalEvent:e}),ee({sortable:this,name:"sort",toEl:H,originalEvent:e})),G&&G.save()):se!==Ue&&se>=0&&(ee({sortable:this,name:"update",toEl:H,originalEvent:e}),ee({sortable:this,name:"sort",toEl:H,originalEvent:e})),D.active&&((se==null||se===-1)&&(se=Ue,Re=rt),ee({sortable:this,name:"end",toEl:H,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ne("nulling",this),B=g=H=I=$e=z=Ct=Ae=Pe=ge=Je=se=Re=Ue=rt=Xe=st=G=bt=D.dragged=D.ghost=D.clone=D.active=null,Rt.forEach(function(e){e.checked=!0}),Rt.length=Xt=Yt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),va(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,a=0,i=o.length,r=this.options;a<i;a++)t=o[a],Ce(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||xa(t));return e},sort:function(e,t){var o={},a=this.el;this.toArray().forEach(function(i,r){var s=a.children[r];Ce(s,this.options.draggable,a,!1)&&(o[i]=s)},this),t&&this.captureAnimationState(),e.forEach(function(i){o[i]&&(a.removeChild(o[i]),a.appendChild(o[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ce(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var a=ft.modifyOption(this,e,t);typeof a!="undefined"?o[e]=a:o[e]=t,e==="group"&&Bn(o)},destroy:function(){ne("destroy",this);var e=this.el;e[ue]=null,A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart),A(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Vt.splice(Vt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ae){if(ne("hideClone",this),D.eventCanceled)return;x(z,"display","none"),this.options.removeCloneOnHide&&z.parentNode&&z.parentNode.removeChild(z),Ae=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ae){if(ne("showClone",this),D.eventCanceled)return;g.parentNode==B&&!this.options.group.revertClone?B.insertBefore(z,g):$e?B.insertBefore(z,$e):B.appendChild(z),this.options.group.revertClone&&this.animate(g,z),x(z,"display",""),Ae=!1}}};function va(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function yt(n,e,t,o,a,i,r,s){var c,u=n[ue],_=u.options.onMove,p;return window.CustomEvent&&!Oe&&!dt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=o,c.related=a||e,c.relatedRect=i||X(e),c.willInsertAfter=s,c.originalEvent=r,n.dispatchEvent(c),_&&(p=_.call(u,c,r)),p}function Gt(n){n.draggable=!1}function wa(){Jt=!1}function ya(n,e,t){var o=X(Qe(t.el,0,t.options,!0)),a=10;return e?n.clientX<o.left-a||n.clientY<o.top&&n.clientX<o.right:n.clientY<o.top-a||n.clientY<o.bottom&&n.clientX<o.left}function Sa(n,e,t){var o=X(cn(t.el,t.options.draggable)),a=10;return e?n.clientX>o.right+a||n.clientX<=o.right&&n.clientY>o.bottom&&n.clientX>=o.left:n.clientX>o.right&&n.clientY>o.top||n.clientX<=o.right&&n.clientY>o.bottom+a}function Ca(n,e,t,o,a,i,r,s){var c=o?n.clientY:n.clientX,u=o?t.height:t.width,_=o?t.top:t.left,p=o?t.bottom:t.right,v=!1;if(!r){if(s&&Et<u*a){if(!lt&&(st===1?c>_+u*i/2:c<p-u*i/2)&&(lt=!0),lt)v=!0;else if(st===1?c<_+Et:c>p-Et)return-st}else if(c>_+u*(1-a)/2&&c<p-u*(1-a)/2)return Ea(e)}return v=v||r,v&&(c<_+u*i/2||c>p-u*i/2)?c>_+u/2?1:-1:0}function Ea(n){return fe(g)<fe(n)?1:-1}function xa(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function Da(n){Rt.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&Rt.push(o)}}function xt(n){return setTimeout(n,0)}function en(n){return clearTimeout(n)}Pt&&P(document,"touchmove",function(n){(D.active||Ye)&&n.cancelable&&n.preventDefault()});D.utils={on:P,off:A,css:x,find:An,is:function(e,t){return!!Ce(e,t,e,!1)},extend:la,throttle:Mn,closest:Ce,toggleClass:re,clone:Pn,index:fe,nextTick:xt,cancelNextTick:en,detectDirection:$n,getChild:Qe};D.get=function(n){return n[ue]};D.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(D.utils=xe(xe({},D.utils),o.utils)),ft.mount(o)})};D.create=function(n,e){return new D(n,e)};D.version=ia;var j=[],et,tn,nn=!1,Ut,Kt,At,tt;function Ta(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):this.options.supportPointer?P(document,"pointermove",this._handleFallbackAutoScroll):o.touches?P(document,"touchmove",this._handleFallbackAutoScroll):P(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),Tn(),Dt(),ua()},nulling:function(){At=tn=et=nn=tt=Ut=Kt=null,j.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var a=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(i,r);if(At=t,o||this.options.forceAutoScrollFallback||dt||Oe||at){Qt(t,this.options,s,o);var c=Me(s,!0);nn&&(!tt||i!==Ut||r!==Kt)&&(tt&&Tn(),tt=setInterval(function(){var u=Me(document.elementFromPoint(i,r),!0);u!==c&&(c=u,Dt()),Qt(t,a.options,u,o)},10),Ut=i,Kt=r)}else{if(!this.options.bubbleScroll||Me(s,!0)===Ee()){Dt();return}Qt(t,this.options,Me(s,!1),!1)}}},Ie(n,{pluginName:"scroll",initializeByDefault:!0})}function Dt(){j.forEach(function(n){clearInterval(n.pid)}),j=[]}function Tn(){clearInterval(tt)}var Qt=Mn(function(n,e,t,o){if(!!e.scroll){var a=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,c=Ee(),u=!1,_;tn!==t&&(tn=t,Dt(),et=e.scroll,_=e.scrollFn,et===!0&&(et=Me(t,!0)));var p=0,v=et;do{var C=v,l=X(C),h=l.top,m=l.bottom,T=l.left,y=l.right,L=l.width,$=l.height,q=void 0,V=void 0,de=C.scrollWidth,he=C.scrollHeight,Y=x(C),me=C.scrollLeft,ve=C.scrollTop;C===c?(q=L<de&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),V=$<he&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(q=L<de&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),V=$<he&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));var Fe=q&&(Math.abs(y-a)<=r&&me+L<de)-(Math.abs(T-a)<=r&&!!me),pe=V&&(Math.abs(m-i)<=r&&ve+$<he)-(Math.abs(h-i)<=r&&!!ve);if(!j[p])for(var we=0;we<=p;we++)j[we]||(j[we]={});(j[p].vx!=Fe||j[p].vy!=pe||j[p].el!==C)&&(j[p].el=C,j[p].vx=Fe,j[p].vy=pe,clearInterval(j[p].pid),(Fe!=0||pe!=0)&&(u=!0,j[p].pid=setInterval(function(){o&&this.layer===0&&D.active._onTouchMove(At);var Ve=j[this.layer].vy?j[this.layer].vy*s:0,ye=j[this.layer].vx?j[this.layer].vx*s:0;typeof _=="function"&&_.call(D.dragged.parentNode[ue],ye,Ve,n,At,j[this.layer].el)!=="continue"||Fn(j[this.layer].el,ye,Ve)}.bind({layer:p}),24))),p++}while(e.bubbleScroll&&v!==c&&(v=Me(v,!1)));nn=u}},30),qn=function(e){var t=e.originalEvent,o=e.putSortable,a=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(!!t){var u=o||i;s();var _=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,p=document.elementFromPoint(_.clientX,_.clientY);c(),u&&!u.el.contains(p)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function dn(){}dn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Qe(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:qn};Ie(dn,{pluginName:"revertOnSpill"});function fn(){}fn.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:qn};Ie(fn,{pluginName:"removeOnSpill"});D.mount(new Ta);D.mount(fn,dn);const La={class:"el-dropdown-menu"},Ia=["onClick"],ka=ae({name:"layoutTagsViewContextmenu"}),Oa=Object.assign(ka,{props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},emits:["currentContextmenuClick"],setup(n,{expose:e,emit:t}){const o=n,a=De({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"\u5237\u65B0",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"\u5173\u95ED",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"\u5173\u95ED\u5176\u5B83",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"\u5168\u90E8\u5173\u95ED",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"\u5F53\u524D\u9875\u5168\u5C4F",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),i=oe(()=>o.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:o.dropdown.y}:o.dropdown),r=u=>{t("currentContextmenuClick",Object.assign({},{contextMenuClickId:u},a.item))},s=u=>{a.item=u,u.meta.isAffix?a.dropdownList[1].affix=!0:a.dropdownList[1].affix=!1,c(),setTimeout(()=>{a.isShow=!0},10)},c=()=>{a.isShow=!1};return ze(()=>{document.body.addEventListener("click",c)}),rn(()=>{document.body.removeEventListener("click",c)}),Lt(()=>o.dropdown,({x:u})=>{u+117>document.documentElement.clientWidth?a.arrowLeft=117-(document.documentElement.clientWidth-u):a.arrowLeft=10},{deep:!0}),e({openContextmenu:s}),(u,_)=>{const p=M("SvgIcon");return S(),W(Yn,{name:"el-zoom-in-center"},{default:k(()=>[sn((S(),R("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:Tt(`top: ${N(i).y+5}px;left: ${N(i).x}px;`),key:Math.random()},[F("ul",La,[(S(!0),R(_e,null,Ze(a.dropdownList,(v,C)=>(S(),R(_e,null,[v.affix?te("",!0):(S(),R("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:C,onClick:l=>r(v.contextMenuClickId)},[E(p,{name:v.icon},null,8,["name"]),F("span",null,U(v.txt),1)],8,Ia))],64))),256))]),F("div",{class:"el-popper__arrow",style:Tt({left:`${a.arrowLeft}px`})},null,4)],4)),[[ln,a.isShow]])]),_:1})}}});var Va=be(Oa,[["__scopeId","data-v-e27bb806"]]);const Ra=["data-url","onContextmenu","onClick"],Aa={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont"},Ma=ae({name:"layoutTagsView"}),Fa=Object.assign(Ma,{setup(n){const{proxy:e}=ct(),t=We([]),o=We(),a=We(),i=We(),r=ut(),s=Mt(),c=It(),u=ke(),_=It(),{themeConfig:p}=Z(u),{tagsViewRoutes:v}=Z(_),C=Kn(),l=De({routeActive:"",routePath:r.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),h=oe(()=>p.value.tagsStyle),m=oe(()=>p.value),T=oe(()=>f=>Zt.setTagsViewNameI18n(f)),y=f=>m.value.isShareTagsView?f.path===l.routePath:f.query&&Object.keys(f.query).length||f.params&&Object.keys(f.params).length?f.url?f.url===l.routeActive:f.path===l.routeActive:f.path===l.routePath,L=f=>{Se.set("tagsViewList",f)},$=async()=>{l.routeActive=await J(r),l.routePath=await r.meta.isDynamic?r.meta.isDynamicPath:r.path,l.tagsViewList=[],l.tagsViewRoutesList=v.value,q()},q=async()=>{Se.get("tagsViewList")&&m.value.isCacheTagsView?l.tagsViewList=await Se.get("tagsViewList"):(await l.tagsViewRoutesList.map(f=>{f.meta.isAffix&&!f.meta.isHide&&(f.url=J(f),l.tagsViewList.push({...f}),C.addCachedView(f))}),await he(r.path,r)),mt(m.value.isShareTagsView?l.routePath:l.routeActive)},V=async(f,d)=>{let w=d.meta.isDynamic?d.meta.isDynamicPath:f;if(l.tagsViewList.filter(O=>O.path===w&&Ht(d.meta.isDynamic?O.params?O.params:null:O.query?O.query:null,d.meta.isDynamic?d!=null&&d.params?d==null?void 0:d.params:null:d!=null&&d.query?d==null?void 0:d.query:null)).length<=0){let O=l.tagsViewRoutesList.find(K=>K.path===w);if(!O||O.meta.isAffix||O.meta.isLink&&!O.meta.isIframe)return!1;d.meta.isDynamic?O.params=d.params:O.query=d.query,O.url=J(O),l.tagsViewList.push({...O}),await C.addCachedView(O),L(l.tagsViewList)}},de=(f,d)=>{let w=d.meta.isDynamic?d.meta.isDynamicPath:f;l.tagsViewList.forEach(b=>{b.path===w&&!Ht(d.meta.isDynamic?b.params?b.params:null:b.query?b.query:null,d.meta.isDynamic?d!=null&&d.params?d==null?void 0:d.params:null:d!=null&&d.query?d==null?void 0:d.query:null)&&(d.meta.isDynamic?b.params=d.params:b.query=d.query,b.url=J(b),L(l.tagsViewList))})},he=(f,d)=>{nt(async()=>{let w="";if(d&&d.meta.isDynamic){if(m.value.isShareTagsView?await de(f,d):await V(f,d),l.tagsViewList.some(b=>b.path===d.meta.isDynamicPath))return!1;w=l.tagsViewRoutesList.find(b=>b.path===d.meta.isDynamicPath)}else{if(m.value.isShareTagsView?await de(f,d):await V(f,d),l.tagsViewList.some(b=>b.path===f))return!1;w=l.tagsViewRoutesList.find(b=>b.path===f)}if(!w||w.meta.isLink&&!w.meta.isIframe)return!1;d&&d.meta.isDynamic?w.params=d!=null&&d.params?d==null?void 0:d.params:r.params:w.query=d!=null&&d.query?d==null?void 0:d.query:r.query,w.url=J(w),await C.addCachedView(w),await l.tagsViewList.push({...w}),await L(l.tagsViewList)})},Y=async f=>{const d=l.tagsViewList.find(w=>m.value.isShareTagsView?w.path===f:w.url===f);d!=null&&(await C.delCachedView(d),e.mittBus.emit("onTagsViewRefreshRouterView",f),d.meta.isKeepAlive&&C.addCachedView(d))},me=f=>{l.tagsViewList.map((d,w,b)=>{d.meta.isAffix||(m.value.isShareTagsView?d.path===f:d.url===f)&&(C.delCachedView(d),l.tagsViewList.splice(w,1),setTimeout(()=>{(l.tagsViewList.length===w&&m.value.isShareTagsView?l.routePath===f:l.routeActive===f)?b[b.length-1].meta.isDynamic?w!==b.length?s.push({name:b[w].name,params:b[w].params}):s.push({name:b[b.length-1].name,params:b[b.length-1].params}):w!==b.length?s.push({path:b[w].path,query:b[w].query}):s.push({path:b[b.length-1].path,query:b[b.length-1].query}):(l.tagsViewList.length!==w&&m.value.isShareTagsView?l.routePath===f:l.routeActive===f)&&(b[w].meta.isDynamic?s.push({name:b[w].name,params:b[w].params}):s.push({path:b[w].path,query:b[w].query}))},0))}),L(l.tagsViewList)},ve=f=>{Se.get("tagsViewList")&&(l.tagsViewList=[],Se.get("tagsViewList").map(d=>{d.meta.isAffix&&!d.meta.isHide&&(d.url=J(d),C.delOthersCachedViews(d),l.tagsViewList.push({...d}))}),he(f,r),L(l.tagsViewList))},Fe=()=>{Se.get("tagsViewList")&&(C.delAllCachedViews(),l.tagsViewList=[],Se.get("tagsViewList").map(f=>{f.meta.isAffix&&!f.meta.isHide&&(f.url=J(f),l.tagsViewList.push({...f}),s.push({path:l.tagsViewList[l.tagsViewList.length-1].path}))}),L(l.tagsViewList))},pe=async f=>{const d=l.tagsViewList.find(w=>m.value.isShareTagsView?w.path===f:w.url===f);d.meta.isDynamic?await s.push({name:d.name,params:d.params}):await s.push({name:d.name,query:d.query}),c.setCurrenFullscreen(!0)},we=(f,d)=>(Se.get("tagsViewList")?Se.get("tagsViewList"):l.tagsViewList).find(b=>{if(b.path===f&&Ht(b.meta.isDynamic?b.params?b.params:null:b.query?b.query:null,d&&Object.keys(d||{}).length>0?d:null))return b;if(b.path===f&&Object.keys(d||{}).length<=0)return b}),Ve=async f=>{const d=f.meta.isDynamic?f.params:f.query;if(!we(f.path,d))return In({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:w,name:b,params:O,query:K,meta:ie,url:qe}=we(f.path,d);switch(f.contextMenuClickId){case 0:ie.isDynamic?await s.push({name:b,params:O}):await s.push({path:w,query:K}),Y(r.fullPath);break;case 1:me(m.value.isShareTagsView?w:qe);break;case 2:ie.isDynamic?await s.push({name:b,params:O}):await s.push({path:w,query:K}),ve(w);break;case 3:Fe();break;case 4:pe(m.value.isShareTagsView?w:qe);break}},ye=(f,d)=>{const{clientX:w,clientY:b}=d;l.dropdown.x=w,l.dropdown.y=b,a.value.openContextmenu(f)},He=(f,d)=>{l.tagsRefsIndex=d,s.push(f)},J=f=>{let d=f.query&&Object.keys(f.query).length>0?f.query:f.params;if(!d||Object.keys(d).length<=0)return f.path;let w="";for(let b in d)w+=d[b];return`${f.meta.isDynamic?f.meta.isDynamicPath:f.path}-${w}`},Nt=()=>{e.$refs.scrollbarRef.update()},hn=f=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=f.wheelDelta/4},ht=()=>{nt(()=>{if(t.value.length<=0)return!1;let f=t.value[l.tagsRefsIndex],d=l.tagsRefsIndex,w=t.value.length,b=t.value[0],O=t.value[t.value.length-1],K=e.$refs.scrollbarRef.$refs.wrap$,ie=K.scrollWidth,qe=K.offsetWidth,mn=K.scrollLeft,zt=t.value[l.tagsRefsIndex-1],pn=t.value[l.tagsRefsIndex+1],pt="",gt="";f===b?K.scrollLeft=0:f===O?K.scrollLeft=ie-qe:(d===0?pt=b.offsetLeft-5:pt=(zt==null?void 0:zt.offsetLeft)-5,d===w?gt=O.offsetLeft+O.offsetWidth+5:gt=pn.offsetLeft+pn.offsetWidth+5,gt>mn+qe?K.scrollLeft=gt-qe:pt<mn&&(K.scrollLeft=pt)),Nt()})},mt=f=>{nt(async()=>{let d=await l.tagsViewList;l.tagsRefsIndex=d.findIndex(w=>m.value.isShareTagsView?w.path===f:w.url===f),ht()})},$t=async()=>{const f=document.querySelector(".layout-navbars-tagsview-ul");if(!f)return!1;l.sortable.el&&l.sortable.destroy(),l.sortable=D.create(f,{animation:300,dataIdAttr:"data-url",disabled:!m.value.isSortableTagsView,onEnd:()=>{const d=[];l.sortable.toArray().map(w=>{l.tagsViewList.map(b=>{b.url===w&&d.push({...b})})}),L(d)}})},Bt=async()=>{await $t(),Zt.isMobile()&&l.sortable.el&&l.sortable.destroy()};return Ln(()=>{Bt(),window.addEventListener("resize",Bt),e.mittBus.on("onCurrentContextmenuClick",f=>{Ve(f)}),e.mittBus.on("openOrCloseSortable",()=>{$t()}),e.mittBus.on("openShareTagsView",()=>{m.value.isShareTagsView&&(s.push("/home"),l.tagsViewList=[],l.tagsViewRoutesList.map(f=>{f.meta.isAffix&&!f.meta.isHide&&(f.url=J(f),l.tagsViewList.push({...f}))}))})}),rn(()=>{e.mittBus.off("onCurrentContextmenuClick",()=>{}),e.mittBus.off("openOrCloseSortable",()=>{}),e.mittBus.off("openShareTagsView",()=>{}),window.removeEventListener("resize",Bt)}),Wn(()=>{t.value=[]}),ze(()=>{$(),$t()}),Ft(async f=>{l.routeActive=J(f),l.routePath=f.meta.isDynamic?f.meta.isDynamicPath:f.path,await he(f.path,f),mt(m.value.isShareTagsView?l.routePath:l.routeActive)}),Lt(Qn.state,f=>{if(f.tagsViewRoutes.tagsViewRoutes.length===l.tagsViewRoutesList.length)return!1;$()},{deep:!0}),(f,d)=>{const w=M("SvgIcon"),b=M("el-scrollbar");return S(),R("div",{class:ot(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":N(m).layout==="classic"}])},[E(b,{ref_key:"scrollbarRef",ref:o,onWheel:Be(hn,["prevent"])},{default:k(()=>[F("ul",{class:ot(["layout-navbars-tagsview-ul",N(h)]),ref_key:"tagsUlRef",ref:i},[(S(!0),R(_e,null,Ze(l.tagsViewList,(O,K)=>(S(),R("li",{key:K,class:ot(["layout-navbars-tagsview-ul-li",{"is-active":y(O)}]),"data-url":O.url,onContextmenu:Be(ie=>ye(O,ie),["prevent"]),onClick:ie=>He(O,K),ref_for:!0,ref:ie=>{ie&&(t.value[K]=ie)}},[y(O)?(S(),R("i",Aa)):te("",!0),!y(O)&&N(m).isTagsviewIcon?(S(),W(w,{key:1,name:O.meta.icon,class:"pr5"},null,8,["name"])):te("",!0),F("span",null,U(N(T)(O)),1),y(O)?(S(),R(_e,{key:2},[E(w,{name:"ele-RefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:d[0]||(d[0]=Be(ie=>Y(f.$route.fullPath),["stop"]))}),O.meta.isAffix?te("",!0):(S(),W(w,{key:0,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:Be(ie=>me(N(m).isShareTagsView?O.path:O.url),["stop"])},null,8,["onClick"]))],64)):te("",!0),O.meta.isAffix?te("",!0):(S(),W(w,{key:3,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:Be(ie=>me(N(m).isShareTagsView?O.path:O.url),["stop"])},null,8,["onClick"]))],42,Ra))),128))],2)]),_:1},8,["onWheel"]),E(Va,{dropdown:l.dropdown,ref_key:"contextmenuRef",ref:a,onCurrentContextmenuClick:Ve},null,8,["dropdown"])],2)}}});var Pa=be(Fa,[["__scopeId","data-v-299c67da"]]);const Na={class:"layout-navbars-container"},$a=ae({name:"layoutNavBars"}),Ba=Object.assign($a,{setup(n){const e=ke(),{themeConfig:t}=Z(e),o=oe(()=>{let{layout:a,isTagsview:i}=t.value;return a!=="classic"&&i});return(a,i)=>(S(),R("div",Na,[E(ta),N(o)?(S(),W(Pa,{key:0})):te("",!0)]))}});var za=be(Ba,[["__scopeId","data-v-ff5642ac"]]);const Ha=ae({name:"layoutHeader"}),ei=Object.assign(Ha,{setup(n){const e=It(),t=ke(),{themeConfig:o}=Z(t),{isTagsViewCurrenFull:a}=Z(e),i=oe(()=>{let{isTagsview:r,layout:s}=o.value;return r&&s!=="classic"?"84px":"50px"});return(r,s)=>{const c=M("el-header");return sn((S(),W(c,{class:"layout-header",height:N(i)},{default:k(()=>[E(za)]),_:1},8,["height"])),[[ln,!N(a)]])}}});const qa=n=>(on("data-v-c6717846"),n=n(),an(),n),ja={class:"layout-footer mt15"},Xa=qa(()=>F("div",{class:"layout-footer-warp"},[F("div",null,"\u5982\u9700\u5B9A\u5236\u670D\u52A1\uFF0C\u8054\u7CFB\u6211\u4EEC \u2764\uFE0F"),F("div",{class:"mt5"},"CopyRight \xA9 \xA0 2022 \xA0 \u5E7F\u5DDE\u5E02xxx\u6280\u6709\u9650\u516C\u53F8 \xA0 \u7248\u6743\u6240\u6709")],-1)),Ya=[Xa],Wa=ae({name:"layoutFooter"}),Ga=Object.assign(Wa,{setup(n){const e=De({isDelayFooter:!0});return Ft(()=>{setTimeout(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)},0)}),(t,o)=>sn((S(),R("div",ja,Ya,512)),[[ln,e.isDelayFooter]])}});var Ua=be(Ga,[["__scopeId","data-v-c6717846"]]);const Ka=ae({name:"layoutMain"}),ti=Object.assign(Ka,{setup(n){const{proxy:e}=ct(),t=ke(),{themeConfig:o}=Z(t),a=ut(),i=De({headerHeight:"",currentRouteMeta:{}}),r=oe(()=>{const{layout:u}=o.value;return u==="classic"||u==="transverse"}),s=()=>{const u=i.currentRouteMeta.isLink&&i.currentRouteMeta.isIframe;let{isTagsview:_}=o.value;return _?i.headerHeight=u?"86px":"115px":i.headerHeight="80px"},c=()=>{i.currentRouteMeta=a.meta};return ze(async()=>{await c(),s(),Zn.done()}),Lt(()=>a.path,()=>{i.currentRouteMeta=a.meta;const u=i.currentRouteMeta.isLink&&i.currentRouteMeta.isIframe;i.headerHeight=u?"86px":"115px",e.$refs.layoutScrollbarRef.update()}),Lt(o,u=>{var p,v;i.currentRouteMeta=a.meta;const _=i.currentRouteMeta.isLink&&i.currentRouteMeta.isIframe;i.headerHeight=u.isTagsview?_?"86px":"115px":"51px",(v=(p=e.$refs)==null?void 0:p.layoutScrollbarRef)==null||v.update()},{deep:!0}),(u,_)=>{const p=M("el-scrollbar"),v=M("el-main");return S(),W(v,{class:"layout-main"},{default:k(()=>[E(p,{ref:"layoutScrollbarRef",class:ot({"layout-scrollbar":!N(r)&&!i.currentRouteMeta.isLink&&!i.currentRouteMeta.isIframe||!N(r)&&u.currentRouteMeta.isLink&&!i.currentRouteMeta.isIframe})},{default:k(()=>[E(Jn,{style:Tt({padding:!N(r)||i.currentRouteMeta.isLink&&i.currentRouteMeta.isIframe?"0":"15px",transition:"padding 0.3s ease-in-out"})},null,8,["style"]),N(o).isFooter?(S(),W(Ua,{key:0})):te("",!0)]),_:1},8,["class"])]),_:1})}}});export{ao as L,Pa as T,ei as _,ti as a,so as b};
