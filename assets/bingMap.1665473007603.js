import{L as b}from"./leaflet-src.1665473007603.js";import{a as M}from"./index.1665473007603.js";import{l as w,a as T,o as x}from"./vue.1665473007603.js";(function h(a,l,s){function n(u,g){if(!l[u]){if(!a[u]){var y=typeof require=="function"&&require;if(!g&&y)return y(u,!0);if(c)return c(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var e=l[u]={exports:{}};a[u][0].call(e.exports,function(t){var i=a[u][1][t];return n(i||t)},e,e.exports,h,a,l,s)}return l[u].exports}for(var c=typeof require=="function"&&require,m=0;m<s.length;m++)n(s[m]);return n})({1:[function(h,a,l){(function(s){var n=typeof window!="undefined"?window.L:typeof s!="undefined"?s.L:null,c=h("fetch-jsonp"),m=h("bbox-intersect");function u(e,t,i){for(var r="",o=i;o>0;o--){var d=0,v=1<<o-1;(e&v)!==0&&d++,(t&v)!==0&&(d+=2),r+=d.toString()}return r}function g(e){var t=e.split(",");return[t[1],t[0],t[3],t[2]]}var y=["Aerial","AerialWithLabels","AerialWithLabelsOnDemand","Road","RoadOnDemand","CanvasLight","CanvasDark","CanvasGray","OrdnanceSurvey"],f=["AerialWithLabelsOnDemand","RoadOnDemand"];n.TileLayer.Bing=n.TileLayer.extend({options:{bingMapsKey:null,imagerySet:"Aerial",culture:"en-US",minZoom:1,minNativeZoom:1,maxNativeZoom:19},statics:{METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}?key={bingMapsKey}&include=ImageryProviders&uriScheme=https",POINT_METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}/{lat},{lng}?zl={z}&key={bingMapsKey}&uriScheme=https"},initialize:function(e){if(typeof e=="string"&&(e={bingMapsKey:e}),e&&e.BingMapsKey&&(e.bingMapsKey=e.BingMapsKey,console.warn("use options.bingMapsKey instead of options.BingMapsKey")),!e||!e.bingMapsKey)throw new Error("Must supply options.BingMapsKey");if(e=n.setOptions(this,e),y.indexOf(e.imagerySet)<0)throw new Error("'"+e.imagerySet+"' is an invalid imagerySet, see https://github.com/digidem/leaflet-bing-layer#parameters");e&&e.style&&f.indexOf(e.imagerySet)<0&&console.warn("Dynamic styles will only work with these imagerySet choices: "+f.join(", "));var t=n.Util.template(n.TileLayer.Bing.METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet});this._imageryProviders=[],this._attributions=[],this._fetch=c(t,{jsonpCallback:"jsonp"}).then(function(i){return i.json()}).then(this._metaDataOnLoad.bind(this)).catch(console.error.bind(console)),n.Browser.android||this.on("tileunload",this._onTileRemove)},createTile:function(e,t){var i=document.createElement("img");return n.DomEvent.on(i,"load",n.bind(this._tileOnLoad,this,t,i)),n.DomEvent.on(i,"error",n.bind(this._tileOnError,this,t,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",this._url?i.src=this.getTileUrl(e):this._fetch.then(function(){i.src=this.getTileUrl(e)}.bind(this)).catch(function(r){console.error(r),t(r)}),i},getTileUrl:function(e){var t=u(e.x,e.y,e.z),i=n.Util.template(this._url,{quadkey:t,subdomain:this._getSubdomain(e),culture:this.options.culture});return typeof this.options.style=="string"&&(i+="&st="+this.options.style),i},onAdd:function(e){e.on("moveend",this._updateAttribution,this),n.TileLayer.prototype.onAdd.call(this,e),this._attributions.forEach(function(t){e.attributionControl.addAttribution(t)})},onRemove:function(e){e.off("moveend",this._updateAttribution,this),this._attributions.forEach(function(t){e.attributionControl.removeAttribution(t)}),n.TileLayer.prototype.onRemove.call(this,e)},getMetaData:function(e,t){if(!this._map&&(!e||!t))return Promise.reject(new Error("If layer is not attached to map, you must provide LatLng and zoom"));e=e||this._map.getCenter(),t=t||this._map.getZoom();var i=n.Util.template(n.TileLayer.Bing.POINT_METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,z:t,lat:e.lat,lng:e.lng});return c(i,{jsonpCallback:"jsonp"}).then(function(r){return r.json()}).catch(console.error.bind(console))},_metaDataOnLoad:function(e){if(e.statusCode!==200)throw new Error(`Bing Imagery Metadata error: 
`+JSON.stringify(e,null,"  "));var t=e.resourceSets[0].resources[0];return this._url=t.imageUrl,this._imageryProviders=t.imageryProviders||[],this.options.subdomains=t.imageUrlSubdomains,this._updateAttribution(),Promise.resolve()},_updateAttribution:function(){var e=this._map;if(!(!e||!e.attributionControl)){var t=e.getZoom(),i=g(e.getBounds().toBBoxString());this._fetch.then(function(){var r=this._getAttributions(i,t),o=this._attributions;r.forEach(function(d){o.indexOf(d)>-1||e.attributionControl.addAttribution(d)}),o.filter(function(d){r.indexOf(d)>-1||e.attributionControl.removeAttribution(d)}),this._attributions=r}.bind(this))}},_getAttributions:function(e,t){return this._imageryProviders.reduce(function(i,r){for(var o=0;o<r.coverageAreas.length;o++)if(m(e,r.coverageAreas[o].bbox)&&t>=r.coverageAreas[o].zoomMin&&t<=r.coverageAreas[o].zoomMax)return i.push(r.attribution),i;return i},[])}}),n.tileLayer.bing=function(e){return new n.TileLayer.Bing(e)},a.exports=n.TileLayer.Bing}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"bbox-intersect":2,"fetch-jsonp":3}],2:[function(h,a,l){a.exports=function(s,n){return!(s[0]>n[2]||s[2]<n[0]||s[3]<n[1]||s[1]>n[3])}},{}],3:[function(h,a,l){(function(s,n){if(typeof define=="function"&&define.amd)define(["exports","module"],n);else if(typeof l!="undefined"&&typeof a!="undefined")n(l,a);else{var c={exports:{}};n(c.exports,c),s.fetchJsonp=c.exports}})(this,function(s,n){var c={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function m(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function u(f){try{delete window[f]}catch{window[f]=void 0}}function g(f){var e=document.getElementById(f);document.getElementsByTagName("head")[0].removeChild(e)}var y=function(e){var t=arguments[1]===void 0?{}:arguments[1],i=t.timeout!=null?t.timeout:c.timeout,r=t.jsonpCallback!=null?t.jsonpCallback:c.jsonpCallback,o=void 0;return new Promise(function(d,v){var p=t.jsonpCallbackFunction||m();window[p]=function(A){d({ok:!0,json:function(){return Promise.resolve(A)}}),o&&clearTimeout(o),g(r+"_"+p),u(p)},e+=e.indexOf("?")===-1?"?":"&";var _=document.createElement("script");_.setAttribute("src",e+r+"="+p),_.id=r+"_"+p,document.getElementsByTagName("head")[0].appendChild(_),o=setTimeout(function(){v(new Error("JSONP request to "+e+" timed out")),u(p),g(r+"_"+p)},i)})};n.exports=y})},{}]},{},[1]);const S={id:"leaf_map"},E={__name:"bingMap",setup(h){return w(()=>{var a=b.map("leaf_map",{attributionControl:!1,crs:b.CRS.EPSG3857,center:[23.1317,113.2748],maxZoom:18,minZoom:1,zoom:16}),l="Q57tupj2UBsQNQdju4xL~xBceblfTd6icjljunbuaCw~AhwA-whmGMsfIpVhslZyknWhFYq-GvWJZqBnqV8Zq1uRlI5YM_qr7_hxvdgnU7nH";b.tileLayer.bing(l).addTo(a)}),(a,l)=>(x(),T("div",S))}};var O=M(E,[["__scopeId","data-v-50dcd848"]]);export{O as default};
