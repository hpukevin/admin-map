import{L as i}from"./leaflet-src.1665582543570.js";import{a as l}from"./index.1665582543570.js";import{a2 as p,l as d,a as m,o as _,aB as h,aC as v,b as f}from"./vue.1665582543570.js";L.Control.basemapsSwitcher=L.Control.extend({options:{position:"topright"},initialize:function(a,e){L.Util.setOptions(this,e),this.layers=a},onAdd:function(a){const e=this.container=L.DomUtil.create("div","leaflet-control-basemapsSwitcher");return this._createItems(),this._collapse(),e.addEventListener("mouseover",()=>{this._expand()}),e.addEventListener("mouseout",()=>{this._collapse()}),e},_createItems(){this.layers.forEach((a,e)=>{var o;a.id=e;const t=L.DomUtil.create("div","basemapImg"),r=L.DomUtil.create("div"),s=L.DomUtil.create("div","name"),c=L.DomUtil.create("div","check");s.innerHTML=a.name,(o=a.layer)!=null&&o._map&&(this.activeMap=a,c.classList.add("activeMap")),r.style.backgroundImage=`url(${a.icon})`,t.append(r),r.append(c),r.append(s),t.addEventListener("click",()=>{var n;this._removeLayers(a.layer),(n=a.layer)!=null&&n._map||(a.layer.addTo(this._map),this.activeMap=a,this._collapse(),c.classList.add("activeMap"))}),this.container.append(t)})},_removeLayers(a){this.layers.forEach(e=>{var t;e.layer._leaflet_id!==a._leaflet_id&&((t=e.layer)==null?void 0:t._map)&&this._map.removeLayer(e.layer)})},_collapse(){this.container.childNodes.forEach((a,e)=>{e!==this.activeMap.id&&(a.classList.add("hidden"),a.querySelector(".check").classList.remove("activeMap"))})},_expand(){this.container.childNodes.forEach(a=>{a.classList.remove("hidden")})}});L.basemapsSwitcher=function(a,e){return new L.Control.basemapsSwitcher(a,e)};const y=a=>(h("data-v-82aac7c0"),a=a(),v(),a),u=y(()=>f("div",{id:"leaf_map"},null,-1)),b=[u],g={__name:"basemap",setup(a){p({X:113.394,Y:23.221});let e=p({});return d(()=>{e=i.map("leaf_map",{attributionControl:!1}).setView([23.221,113.394],10);var t=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),r=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),s=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),c=i.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=f6d75f77a5cb66b0fcfaec5cbe58a907",{noWrap:!0}),o=i.layerGroup([t,r]),n=i.layerGroup([s,c]);new i.basemapsSwitcher([{layer:o.addTo(e),icon:"./map/slmap.png",name:"\u7535\u5B50\u5730\u56FE"},{layer:n,icon:"./map/basemap.png",name:"\u5F71\u50CF\u5730\u56FE"}],{position:"bottomright"}).addTo(e)}),(t,r)=>(_(),m("div",null,b))}};var S=l(g,[["__scopeId","data-v-82aac7c0"]]);export{S as default};
